"use strict";(self.webpackChunkdepinfo_template=self.webpackChunkdepinfo_template||[]).push([[875],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),u=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,k=c["".concat(o,".").concat(m)]||c[m]||d[m]||i;return a?n.createElement(k,l(l({ref:t},p),{},{components:a})):n.createElement(k,l({ref:t},p))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:r,l[1]=s;for(var u=2;u<i;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},83116:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const i={},l="Travail pratique #3 (A2023)",s={unversionedId:"tp/tp3",id:"tp/tp3",title:"Travail pratique #3 (A2023)",description:"3 (A2023)",source:"@site/docs/tp/tp3.md",sourceDirName:"tp",slug:"/tp/tp3",permalink:"/3A5-Automatisation/tp/tp3",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tp",previous:{title:"Travail pratique #2 (A2023)",permalink:"/3A5-Automatisation/tp/tp2"}},o={},u=[{value:"Mandat",id:"mandat",level:2},{value:"Blague al\xe9atoire",id:"blague-al\xe9atoire",level:3},{value:"Blague sp\xe9cifique",id:"blague-sp\xe9cifique",level:3},{value:"Filtrage par cat\xe9gorie",id:"filtrage-par-cat\xe9gorie",level:3},{value:"Liste des cat\xe9gories",id:"liste-des-cat\xe9gories",level:3},{value:"Recherche de blague",id:"recherche-de-blague",level:3},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:3},{value:"Rubrique d\u2019aide",id:"rubrique-daide",level:3},{value:"Compteur de blagues",id:"compteur-de-blagues",level:3},{value:"Crit\xe8res d&#39;\xe9valuation",id:"crit\xe8res-d\xe9valuation",level:2}],p={toc:u},c="wrapper";function d(e){let{components:t,...i}=e;return(0,r.kt)(c,(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"travail-pratique-3-a2023"},"Travail pratique #3 (A2023)"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Chuck",src:a(36300).Z,width:"226",height:"262"})),(0,r.kt)("p",null,"Ce TP est \xe0 faire individuellement. Il compte pour ",(0,r.kt)("strong",{parentName:"p"},"15%")," de la note du cours. La remise doit obligatoirement se faire par GitHub Classroom."),(0,r.kt)("h2",{id:"mandat"},"Mandat"),(0,r.kt)("p",null,"Votre patron vous demande de d\xe9velopper un script PowerShell permettant de raconter de bonnes vieilles blagues de Chuck Norris. "),(0,r.kt)("p",null,"Vous devez utiliser l\u2019API ",(0,r.kt)("strong",{parentName:"p"},"ChuckNorris.io")," (",(0,r.kt)("a",{parentName:"p",href:"https://api.chucknorris.io/"},"https://api.chucknorris.io/"),") pour g\xe9n\xe9rer les blagues. Cette API prend des requ\xeates GET et retourne du contenu JSON."),(0,r.kt)("p",null,"Voici les fonctionnalit\xe9s \xe0 impl\xe9menter (elles doivent se comporter ",(0,r.kt)("strong",{parentName:"p"},"exactement")," comme dans la capture d\u2019\xe9cran) :"),(0,r.kt)("h3",{id:"blague-al\xe9atoire"},"Blague al\xe9atoire"),(0,r.kt)("p",null,"Lorsque le script est ex\xe9cut\xe9 sans aucun param\xe8tre, il affiche une blague au hasard. Le num\xe9ro d\u2019identification unique de cette blague doit \xeatre \xe9crit entre crochets \xe0 la fin de la blague, pour r\xe9f\xe9rence."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Blague al\xe9atoire",src:a(89315).Z,width:"728",height:"150"})),(0,r.kt)("h3",{id:"blague-sp\xe9cifique"},"Blague sp\xe9cifique"),(0,r.kt)("p",null,"Lorsqu\u2019on passe le num\xe9ro d\u2019identification d\u2019une blague dans le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"-Id"),", la blague correspondante est affich\xe9e."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Blague sp\xe9cifique",src:a(53986).Z,width:"728",height:"160"})),(0,r.kt)("h3",{id:"filtrage-par-cat\xe9gorie"},"Filtrage par cat\xe9gorie"),(0,r.kt)("p",null,"Si on sp\xe9cifie le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"-Category")," suivi du nom d\u2019une cat\xe9gorie valide, une blague au hasard est affich\xe9e, mais seulement dans cette cat\xe9gorie. Cela limite les choix possibles."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Filtrage par cat\xe9gorie",src:a(65088).Z,width:"728",height:"130"})),(0,r.kt)("h3",{id:"liste-des-cat\xe9gories"},"Liste des cat\xe9gories"),(0,r.kt)("p",null,"On peut obtenir la liste des cat\xe9gories valides en sp\xe9cifiant le switch ",(0,r.kt)("inlineCode",{parentName:"p"},"-ListCategories"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Liste des cat\xe9gories",src:a(27537).Z,width:"728",height:"180"})),(0,r.kt)("h3",{id:"recherche-de-blague"},"Recherche de blague"),(0,r.kt)("p",null,"On peut rechercher un mot-cl\xe9 sp\xe9cifique dans la base de donn\xe9es de blagues. En passant ce mot-cl\xe9 par le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"-Search"),", on obtient la liste des blagues contenant ce mot-cl\xe9. On doit aussi voir le nombre de r\xe9sultats."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Recherche de blague",src:a(79901).Z,width:"728",height:"215"})),(0,r.kt)("h3",{id:"gestion-des-erreurs"},"Gestion des erreurs"),(0,r.kt)("p",null,"Si on sp\xe9cifie un identifiant ou une cat\xe9gorie erron\xe9e, on doit recevoir une erreur claire dans le ",(0,r.kt)("em",{parentName:"p"},"error stream"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Gestion des erreurs",src:a(42552).Z,width:"728",height:"378"})),(0,r.kt)("h3",{id:"rubrique-daide"},"Rubrique d\u2019aide"),(0,r.kt)("p",null,"On doit pouvoir afficher une rubrique d\u2019aide compl\xe8te avec la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"Get-Help"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Rubrique d\u2019aide",src:a(33080).Z,width:"727",height:"740"})),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Pour la rubrique d'aide, il faut utiliser un bloc de type ",(0,r.kt)("em",{parentName:"p"},"comment-based help"),". Vous en saurez plus en consultant ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/fr-ca/powershell/module/microsoft.powershell.core/about/about_comment_based_help?view=powershell-5.1"},"la documentation"),"."),(0,r.kt)("p",{parentName:"admonition"},"L'extension PowerShell de Visual Studio Code permet la cr\xe9ation d'un squelette de rubrique d'aide. Vous n'avez qu'\xe0 \xe9crire \"comment...\" au d\xe9but de votre script et s\xe9lectionner le ",(0,r.kt)("em",{parentName:"p"},"snippet")," ",(0,r.kt)("inlineCode",{parentName:"p"},"comment-help"),"."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{alt:"Comment-based help",src:a(25867).Z,width:"601",height:"196"}))),(0,r.kt)("h3",{id:"compteur-de-blagues"},"Compteur de blagues"),(0,r.kt)("p",null,"Finalement, chaque fois qu\u2019une blague est affich\xe9e \xe0 l\u2019\xe9cran, le script doit garder en m\xe9moire le nombre de fois que cette blague pr\xe9cise a \xe9t\xe9 affich\xe9e. Il doit le faire sur un fichier ",(0,r.kt)("strong",{parentName:"p"},"Chuck.json")," situ\xe9 dans le r\xe9pertoire de travail."),(0,r.kt)("p",null,"Lorsque le fichier n\u2019existe pas, il doit \xeatre cr\xe9\xe9. Il est constitu\xe9 d\u2019un objet JSON dont l\u2019unique cl\xe9, ",(0,r.kt)("inlineCode",{parentName:"p"},"occurrences"),", est un tableau d\u2019objets constitu\xe9s \xe0 leur tour d\u2019un identifiant (",(0,r.kt)("inlineCode",{parentName:"p"},"id"),") et du compte d\u2019occurrences (",(0,r.kt)("inlineCode",{parentName:"p"},"count"),"). Chaque fois qu\u2019une blague sort, si cette blague figure dans le fichier, le compteur doit \xeatre incr\xe9ment\xe9. Sinon, une nouvelle entr\xe9e doit \xeatre cr\xe9\xe9e pour cette blague, avec le compte de 1."),(0,r.kt)("p",null,"Le fichier JSON doit \xeatre structur\xe9 comme ceci :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "occurrences": [\n        {\n            "id" : "0NR490f3SiGlqn469rr7bw",\n            "count" : 2\n        },\n        {\n            "id" : "rmjCPZL2SM-3LXx07phRaA",\n            "count" : 1\n        },\n        {\n            "id" : "Xnt8KedKQ4uUFhVdsZBcvA",\n            "count" : 1\n        },\n        {\n            "id" : "md-bld8orjsv5mgfsun-xq",\n            "count" : 1\n        }\n    ]\n}\n')),(0,r.kt)("h2",{id:"crit\xe8res-d\xe9valuation"},"Crit\xe8res d'\xe9valuation"),(0,r.kt)("p",null,"L\u2019\xe9valuation de votre travail prendra en compte les crit\xe8res suivants:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Crit\xe8re d'\xe9valuation"),(0,r.kt)("th",{parentName:"tr",align:null},"Pond\xe9ration"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Traitement des param\xe8tres"),(0,r.kt)("td",{parentName:"tr",align:null},"15%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Utilisation de l'API"),(0,r.kt)("td",{parentName:"tr",align:null},"15%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Affichage du r\xe9sultat"),(0,r.kt)("td",{parentName:"tr",align:null},"10%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Erreurs personnalis\xe9es"),(0,r.kt)("td",{parentName:"tr",align:null},"10%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Rubrique d'aide"),(0,r.kt)("td",{parentName:"tr",align:null},"15%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Gestion du fichier JSON"),(0,r.kt)("td",{parentName:"tr",align:null},"15%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Conception et style"),(0,r.kt)("td",{parentName:"tr",align:null},"20%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Total")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"100%"))))),(0,r.kt)("p",null,"Voici les d\xe9tails de ce qui sera \xe9valu\xe9 pour chaque crit\xe8re:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Traitement des param\xe8tres (15%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Les param\xe8tres sont bien d\xe9clar\xe9s;"),(0,r.kt)("li",{parentName:"ul"},"Tous les sc\xe9narios sont d\xe9tect\xe9s et le script ex\xe9cute seulement le code correspondant."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Utilisation de l'API (15%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Les URI sont bien form\xe9s conform\xe9ment \xe0 la documentation de l'API;"),(0,r.kt)("li",{parentName:"ul"},"Les requ\xeates sont bien pass\xe9es avec les commandes appropri\xe9es;"),(0,r.kt)("li",{parentName:"ul"},"Le contenu des r\xe9ponses de l'API est bien interpr\xe9t\xe9."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Affichage du r\xe9sultat (10%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"L'affichage correspond en tout point aux captures d'\xe9cran demand\xe9es dans l'\xe9nonc\xe9;"),(0,r.kt)("li",{parentName:"ul"},"Les blagues sont accompagn\xe9es de leur num\xe9ro d'identification entre crochets;"),(0,r.kt)("li",{parentName:"ul"},"Les listes sont pr\xe9c\xe9d\xe9es d'une puce (-);"),(0,r.kt)("li",{parentName:"ul"},"Aucune autre information n'est affich\xe9e dans la console."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Erreurs personnalis\xe9es (10%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Les erreurs sont impl\xe9ment\xe9es pour les ID inexistants et pour les cat\xe9gories inexistantes;"),(0,r.kt)("li",{parentName:"ul"},"Les erreurs sont des vraies erreurs PowerShell (et non du simple texte rouge envoy\xe9 dans le terminal);"),(0,r.kt)("li",{parentName:"ul"},"Les erreurs sont construites conform\xe9ment \xe0 l'\xe9nonc\xe9."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Rubrique d'aide (15%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Le bloc d'aide est d\xe9clar\xe9 selon les normes de PowerShell;"),(0,r.kt)("li",{parentName:"ul"},"Tous les param\xe8tres y sont document\xe9s;"),(0,r.kt)("li",{parentName:"ul"},"Les exemples choisis sont pertinents."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Gestion du fichier JSON (15%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Le fichier JSON poss\xe8de la m\xeame structure que dans l'\xe9nonc\xe9;"),(0,r.kt)("li",{parentName:"ul"},"Le script cr\xe9e automatiquement le fichier JSON s'il n'existe pas;"),(0,r.kt)("li",{parentName:"ul"},"Les blagues s'ajoutent au fichier si elles n'y sont pas pr\xe9sentes;"),(0,r.kt)("li",{parentName:"ul"},"Le compteur est incr\xe9ment\xe9 pour les blagues qui sont d\xe9j\xe0 pr\xe9sentes;"),(0,r.kt)("li",{parentName:"ul"},"Les blagues qui passent plusieurs fois ne sont pas list\xe9es en double dans le fichier;"),(0,r.kt)("li",{parentName:"ul"},"Si plusieurs blagues sont affich\xe9es en m\xeame temps (avec la fonction de recherche), elles sont toutes ajout\xe9es au fichier."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Conception et style (20%)"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Logique g\xe9n\xe9rale du script;"),(0,r.kt)("li",{parentName:"ul"},"Pas d'utilisation de param\xe8tres positionnels ou d'alias;"),(0,r.kt)("li",{parentName:"ul"},"Pas de chemins hard-cod\xe9s;"),(0,r.kt)("li",{parentName:"ul"},"Pas de code redondant, d'affectations inutiles, d'\xe9valuation tautologiques, etc.;"),(0,r.kt)("li",{parentName:"ul"},"Choix appropri\xe9 des noms des variables, des fonctions, etc.;"),(0,r.kt)("li",{parentName:"ul"},"Style et lisibilit\xe9, qualit\xe9 des commentaires, indentation et espacement du code.")))),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"BON TRAVAIL!")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Chuck",src:a(1140).Z,width:"474",height:"426"})))}d.isMDXComponent=!0},36300:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/chuck1-3daf4ecc97b51ace9681cff3ed348aab.png"},1140:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/chuck2-2008f0f7fe1100c599e3ac00296257d9.png"},65088:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-category-eb406d126d68ac9bae31ee105be26c8e.png"},25867:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-commentbasedhelp-34c97a693d0fdefbf13ff8665d6f6c7d.png"},42552:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-errors-f11473a483fff074d07f7dcbe5b1cdde.png"},33080:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-help-d1284d88801ec102c54caafa38a9e8ce.png"},27537:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-list-ac10aef4748b78ef84b094f502eaa17a.png"},89315:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-random-9dc5912a99ee8049d50eb3a7942d99f2.png"},79901:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-search-0184902d6fe1c1e797c49ca1f0a039c0.png"},53986:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/tp3-specific-3cedfb3e6983c3c7a19319b4781dc7f2.png"}}]);