"use strict";(self.webpackChunkdepinfo_template=self.webpackChunkdepinfo_template||[]).push([[875],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>g});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(r),m=n,g=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return r?a.createElement(g,l(l({ref:t},c),{},{components:r})):a.createElement(g,l({ref:t},c))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:n,l[1]=o;for(var u=2;u<i;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},83116:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var a=r(87462),n=(r(67294),r(3905));const i={},l="Travail pratique #3 (A2023)",o={unversionedId:"tp/tp3",id:"tp/tp3",title:"Travail pratique #3 (A2023)",description:"3 (A2023)",source:"@site/docs/tp/tp3.md",sourceDirName:"tp",slug:"/tp/tp3",permalink:"/3A5-Automatisation/tp/tp3",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tp",previous:{title:"Travail pratique #2 (A2023)",permalink:"/3A5-Automatisation/tp/tp2"}},s={},u=[{value:"Mandat",id:"mandat",level:2},{value:"Blague al\xe9atoire",id:"blague-al\xe9atoire",level:3},{value:"Blague sp\xe9cifique",id:"blague-sp\xe9cifique",level:3},{value:"Filtrage par cat\xe9gorie",id:"filtrage-par-cat\xe9gorie",level:3},{value:"Liste des cat\xe9gories",id:"liste-des-cat\xe9gories",level:3},{value:"Recherche de blague",id:"recherche-de-blague",level:3},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:3},{value:"Rubrique d\u2019aide",id:"rubrique-daide",level:3},{value:"Compteur de blagues",id:"compteur-de-blagues",level:3},{value:"Crit\xe8res d&#39;\xe9valuation",id:"crit\xe8res-d\xe9valuation",level:2}],c={toc:u},p="wrapper";function d(e){let{components:t,...i}=e;return(0,n.kt)(p,(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"travail-pratique-3-a2023"},"Travail pratique #3 (A2023)"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Chuck",src:r(36300).Z,width:"226",height:"262"})),(0,n.kt)("p",null,"Ce TP est \xe0 faire individuellement. Il compte pour ",(0,n.kt)("strong",{parentName:"p"},"15%")," de la note du cours. La remise doit obligatoirement se faire par GitHub Classroom."),(0,n.kt)("h2",{id:"mandat"},"Mandat"),(0,n.kt)("p",null,"Votre patron vous demande de d\xe9velopper un script PowerShell permettant de raconter de bonnes vieilles blagues de Chuck Norris. "),(0,n.kt)("p",null,"Vous devez utiliser l\u2019API ",(0,n.kt)("strong",{parentName:"p"},"ChuckNorris.io")," (",(0,n.kt)("a",{parentName:"p",href:"https://api.chucknorris.io/"},"https://api.chucknorris.io/"),") pour g\xe9n\xe9rer les blagues. Cette API prend des requ\xeates GET et retourne du contenu JSON."),(0,n.kt)("p",null,"Voici les fonctionnalit\xe9s \xe0 impl\xe9menter (elles doivent se comporter ",(0,n.kt)("strong",{parentName:"p"},"exactement")," comme dans la capture d\u2019\xe9cran) :"),(0,n.kt)("h3",{id:"blague-al\xe9atoire"},"Blague al\xe9atoire"),(0,n.kt)("p",null,"Lorsque le script est ex\xe9cut\xe9 sans aucun param\xe8tre, il affiche une blague au hasard. Le num\xe9ro d\u2019identification unique de cette blague doit \xeatre \xe9crit entre crochets \xe0 la fin de la blague, pour r\xe9f\xe9rence."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Blague al\xe9atoire",src:r(89315).Z,width:"728",height:"150"})),(0,n.kt)("h3",{id:"blague-sp\xe9cifique"},"Blague sp\xe9cifique"),(0,n.kt)("p",null,"Lorsqu\u2019on passe le num\xe9ro d\u2019identification d\u2019une blague dans le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"-Id"),", la blague correspondante est affich\xe9e."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Blague sp\xe9cifique",src:r(53986).Z,width:"728",height:"160"})),(0,n.kt)("h3",{id:"filtrage-par-cat\xe9gorie"},"Filtrage par cat\xe9gorie"),(0,n.kt)("p",null,"Si on sp\xe9cifie le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"-Category")," suivi du nom d\u2019une cat\xe9gorie valide, une blague au hasard est affich\xe9e, mais seulement dans cette cat\xe9gorie. Cela limite les choix possibles."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Filtrage par cat\xe9gorie",src:r(65088).Z,width:"728",height:"130"})),(0,n.kt)("h3",{id:"liste-des-cat\xe9gories"},"Liste des cat\xe9gories"),(0,n.kt)("p",null,"On peut obtenir la liste des cat\xe9gories valides en sp\xe9cifiant le switch ",(0,n.kt)("inlineCode",{parentName:"p"},"-ListCategories"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Liste des cat\xe9gories",src:r(27537).Z,width:"728",height:"180"})),(0,n.kt)("h3",{id:"recherche-de-blague"},"Recherche de blague"),(0,n.kt)("p",null,"On peut rechercher un mot-cl\xe9 sp\xe9cifique dans la base de donn\xe9es de blagues. En passant ce mot-cl\xe9 par le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"-Search"),", on obtient la liste des blagues contenant ce mot-cl\xe9. On doit aussi voir le nombre de r\xe9sultats."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Recherche de blague",src:r(79901).Z,width:"728",height:"215"})),(0,n.kt)("h3",{id:"gestion-des-erreurs"},"Gestion des erreurs"),(0,n.kt)("p",null,"Si on sp\xe9cifie un identifiant ou une cat\xe9gorie erron\xe9e, on doit recevoir une erreur claire dans le ",(0,n.kt)("em",{parentName:"p"},"error stream"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Gestion des erreurs",src:r(42552).Z,width:"728",height:"378"})),(0,n.kt)("h3",{id:"rubrique-daide"},"Rubrique d\u2019aide"),(0,n.kt)("p",null,"On doit pouvoir afficher une rubrique d\u2019aide compl\xe8te avec la commande ",(0,n.kt)("inlineCode",{parentName:"p"},"Get-Help"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Rubrique d\u2019aide",src:r(33080).Z,width:"727",height:"740"})),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"Pour la rubrique d'aide, il faut utiliser un bloc de type ",(0,n.kt)("em",{parentName:"p"},"comment-based help"),". Vous en saurez plus en consultant ",(0,n.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/fr-ca/powershell/module/microsoft.powershell.core/about/about_comment_based_help?view=powershell-5.1"},"la documentation"),"."),(0,n.kt)("p",{parentName:"admonition"},"L'extension PowerShell de Visual Studio Code permet la cr\xe9ation d'un squelette de rubrique d'aide. Vous n'avez qu'\xe0 \xe9crire \"comment...\" au d\xe9but de votre script et s\xe9lectionner le ",(0,n.kt)("em",{parentName:"p"},"snippet")," ",(0,n.kt)("inlineCode",{parentName:"p"},"comment-help"),"."),(0,n.kt)("p",{parentName:"admonition"},(0,n.kt)("img",{alt:"Comment-based help",src:r(25867).Z,width:"601",height:"196"}))),(0,n.kt)("h3",{id:"compteur-de-blagues"},"Compteur de blagues"),(0,n.kt)("p",null,"Finalement, chaque fois qu\u2019une blague est affich\xe9e \xe0 l\u2019\xe9cran, le script doit garder en m\xe9moire le nombre de fois que cette blague pr\xe9cise a \xe9t\xe9 affich\xe9e. Il doit le faire sur un fichier ",(0,n.kt)("strong",{parentName:"p"},"Chuck.json")," situ\xe9 dans le r\xe9pertoire de travail."),(0,n.kt)("p",null,"Lorsque le fichier n\u2019existe pas, il doit \xeatre cr\xe9\xe9. Il est constitu\xe9 d\u2019un objet JSON dont l\u2019unique cl\xe9, ",(0,n.kt)("inlineCode",{parentName:"p"},"occurrences"),", est un tableau d\u2019objets constitu\xe9s \xe0 leur tour d\u2019un identifiant (",(0,n.kt)("inlineCode",{parentName:"p"},"id"),") et du compte d\u2019occurrences (",(0,n.kt)("inlineCode",{parentName:"p"},"count"),"). Chaque fois qu\u2019une blague sort, si cette blague figure dans le fichier, le compteur doit \xeatre incr\xe9ment\xe9. Sinon, une nouvelle entr\xe9e doit \xeatre cr\xe9\xe9e pour cette blague, avec le compte de 1."),(0,n.kt)("p",null,"Le fichier JSON doit \xeatre structur\xe9 comme ceci :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "occurrences": [\n        {\n            "id" : "0NR490f3SiGlqn469rr7bw",\n            "count" : 2\n        },\n        {\n            "id" : "rmjCPZL2SM-3LXx07phRaA",\n            "count" : 1\n        },\n        {\n            "id" : "Xnt8KedKQ4uUFhVdsZBcvA",\n            "count" : 1\n        },\n        {\n            "id" : "md-bld8orjsv5mgfsun-xq",\n            "count" : 1\n        }\n    ]\n}\n')),(0,n.kt)("h2",{id:"crit\xe8res-d\xe9valuation"},"Crit\xe8res d'\xe9valuation"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Grille d'\xe9valuation \xe0 venir")),(0,n.kt)("hr",null),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"BON TRAVAIL!")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Chuck",src:r(1140).Z,width:"474",height:"426"})))}d.isMDXComponent=!0},36300:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/chuck1-3daf4ecc97b51ace9681cff3ed348aab.png"},1140:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/chuck2-2008f0f7fe1100c599e3ac00296257d9.png"},65088:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-category-eb406d126d68ac9bae31ee105be26c8e.png"},25867:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-commentbasedhelp-34c97a693d0fdefbf13ff8665d6f6c7d.png"},42552:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-errors-f11473a483fff074d07f7dcbe5b1cdde.png"},33080:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-help-d1284d88801ec102c54caafa38a9e8ce.png"},27537:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-list-ac10aef4748b78ef84b094f502eaa17a.png"},89315:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-random-9dc5912a99ee8049d50eb3a7942d99f2.png"},79901:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-search-0184902d6fe1c1e797c49ca1f0a039c0.png"},53986:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/tp3-specific-3cedfb3e6983c3c7a19319b4781dc7f2.png"}}]);